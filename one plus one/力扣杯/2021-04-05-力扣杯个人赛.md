# [ğŸ† LCCUP â€˜21 åŠ›æ‰£æ¯æ˜¥å­£ç¼–ç¨‹å¤§èµ› - ä¸ªäººèµ›](https://leetcode-cn.com/contest/season/2021-spring/)

![image-20210406092738832](img/image-20210406092738832.png)

æ¸…æ˜èŠ‚å‡æœŸçš„ç»“å°¾å‚åŠ äº†è¿™ä¸ªç¼–ç¨‹å¤§èµ›è¯•äº†ä¸€è¯•ï¼Œæœç„¶æ˜¯ä¸ä¸€æ ·ï¼Œçœ‹åˆ°ç¬¬ä¸€é¢˜ä¹‹åè§‰å¾—å¾ˆç®€å•ï¼Œæ´’æ´’æ°´ï¼Œä½†è¿˜æ˜¯ä¿®bugä¿®äº†ä¸€ä¼šå„¿ã€‚

ç„¶åç¬¬äºŒé¢˜çš„ä¹å›¢å ä½ï¼Œæ€ä¹ˆçœ‹æ€ä¹ˆåƒèºæ—‹çŸ©é˜µé‚£ä¸ªé¢˜ï¼Œå°±è¢«é™·å…¥äº†èºæ—‹çŸ©é˜µçš„æ€ªåœˆï¼Œæ—¶é—´å¤æ‚åº¦ä¸€ç›´æ˜¯$O(n^2)$ã€‚

ç¬¬ä¸‰é¢˜çš„é­”å¡”è€ƒè™‘çš„æƒ…å†µå°‘äº†ï¼Œæ²¡æœ‰é€šè¿‡

ç¬¬å››é¢˜å’Œç¬¬äº”é¢˜ç›´æ¥æ”¾å¼ƒã€‚

çœ‹äº†ä¸€ä¸‹å‰500åçš„è¯æ˜¯åšå‡ºæ¥ä¸‰é“é¢˜å°±å¯ä»¥ï¼Œè¿™æ ·çœ‹çš„è¯è¿˜å¯ä»¥ã€‚

## `2 åˆ†` - [é‡‡è´­æ–¹æ¡ˆ](https://leetcode-cn.com/problems/4xy4Wx/)

#### [LCP 28. é‡‡è´­æ–¹æ¡ˆ](https://leetcode-cn.com/problems/4xy4Wx/)

éš¾åº¦ç®€å•14

å°åŠ›å°† N ä¸ªé›¶ä»¶çš„æŠ¥ä»·å­˜äºæ•°ç»„ `nums`ã€‚å°åŠ›é¢„ç®—ä¸º `target`ï¼Œå‡å®šå°åŠ›ä»…è´­ä¹°ä¸¤ä¸ªé›¶ä»¶ï¼Œè¦æ±‚è´­ä¹°é›¶ä»¶çš„èŠ±è´¹ä¸è¶…è¿‡é¢„ç®—ï¼Œè¯·é—®ä»–æœ‰å¤šå°‘ç§é‡‡è´­æ–¹æ¡ˆã€‚

æ³¨æ„ï¼šç­”æ¡ˆéœ€è¦ä»¥ `1e9 + 7 (1000000007)` ä¸ºåº•å–æ¨¡ï¼Œå¦‚ï¼šè®¡ç®—åˆå§‹ç»“æœä¸ºï¼š`1000000008`ï¼Œè¯·è¿”å› `1`

**ç¤ºä¾‹ 1ï¼š**

> è¾“å…¥ï¼š`nums = [2,5,3,5], target = 6`
>
> è¾“å‡ºï¼š`1`
>
> è§£é‡Šï¼šé¢„ç®—å†…ä»…èƒ½è´­ä¹° nums[0] ä¸ nums[2]ã€‚

**ç¤ºä¾‹ 2ï¼š**

> è¾“å…¥ï¼š`nums = [2,2,1,9], target = 10`
>
> è¾“å‡ºï¼š`4`
>
> è§£é‡Šï¼šç¬¦åˆé¢„ç®—çš„é‡‡è´­æ–¹æ¡ˆå¦‚ä¸‹ï¼š
> nums[0] + nums[1] = 4
> nums[0] + nums[2] = 3
> nums[1] + nums[2] = 3
> nums[2] + nums[3] = 10

**æç¤ºï¼š**

- `2 <= nums.length <= 10^5`
- `1 <= nums[i], target <= 10^5`

### æ€è·¯

æœ€å¼€å§‹æ˜¯æƒ³æš´åŠ›ç©·ä¸¾ï¼Œä½†æ˜¯æ—¶é—´è¶…é™äº†ï¼Œæ”¹ç”¨åŒæŒ‡é’ˆ

```python
class Solution:
    def purchasePlans(self, nums: List[int], target: int) -> int:
        nums = sorted(nums)
        length = len(nums)
        res = 0
        left, right = 0, length - 1
        while left < right:
            if nums[left] + nums[right] > target:
                right -= 1
            else:
                res += right - left
                left += 1

        return res % 1000000007
```

![image-20210406093703598](img/image-20210406093703598.png)

---------------------------------------------------

## `4 åˆ†` - [ä¹å›¢ç«™ä½](https://leetcode-cn.com/problems/SNJvJP/)

#### [LCP 29. ä¹å›¢ç«™ä½](https://leetcode-cn.com/problems/SNJvJP/)

éš¾åº¦ç®€å•16

æŸä¹å›¢çš„æ¼”å‡ºåœºåœ°å¯è§†ä½œ `num * num` çš„äºŒç»´çŸ©é˜µ `grid`ï¼ˆå·¦ä¸Šè§’åæ ‡ä¸º `[0,0]`)ï¼Œæ¯ä¸ªä½ç½®ç«™æœ‰ä¸€ä½æˆå‘˜ã€‚ä¹å›¢å…±æœ‰ `9` ç§ä¹å™¨ï¼Œä¹å™¨ç¼–å·ä¸º `1~9`ï¼Œæ¯ä½æˆå‘˜æŒæœ‰ `1` ä¸ªä¹å™¨ã€‚

ä¸ºä¿è¯å£°ä¹æ··åˆæ•ˆæœï¼Œæˆå‘˜ç«™ä½è§„åˆ™ä¸ºï¼šè‡ª `grid` å·¦ä¸Šè§’å¼€å§‹é¡ºæ—¶é’ˆèºæ—‹å½¢å‘å†…å¾ªç¯ä»¥ `1ï¼Œ2ï¼Œ...ï¼Œ9` å¾ªç¯é‡å¤æ’åˆ—ã€‚ä¾‹å¦‚å½“ num = `5` æ—¶ï¼Œç«™ä½å¦‚å›¾æ‰€ç¤º

![image.png](img/1616125411-WOblWH-image.png)

è¯·è¿”å›ä½äºåœºåœ°åæ ‡ [`Xpos`,`Ypos`] çš„æˆå‘˜æ‰€æŒä¹å™¨ç¼–å·ã€‚

**ç¤ºä¾‹ 1ï¼š**

> è¾“å…¥ï¼š`num = 3, Xpos = 0, Ypos = 2`
>
> è¾“å‡ºï¼š`3`
>
> è§£é‡Šï¼š
> ![image.png](img/1616125437-WUOwsu-image.png)

**ç¤ºä¾‹ 2ï¼š**

> è¾“å…¥ï¼š`num = 4, Xpos = 1, Ypos = 2`
>
> è¾“å‡ºï¼š`5`
>
> è§£é‡Šï¼š
> ![image.png](img/1616125453-IIDpxg-image.png)

**æç¤ºï¼š**

- `1 <= num <= 10^9`
- `0 <= Xpos, Ypos < num`

### æ€è·¯

æœ¬æ¥æ˜¯æƒ³æ„å»ºèºæ—‹çŸ©é˜µä¹‹åå†æ‰¾å¯¹åº”çš„å…ƒç´ çš„ï¼Œä½†æ˜¯è¿™æ ·æ—¶é—´å¤æ‚åº¦è¿‡é«˜ã€‚

```python
class Solution:
    def orchestraLayout(self, num: int, xPos: int, yPos: int) -> int:
        layer = min([xPos, num - xPos - 1, yPos, num - yPos - 1])  # ä½äºç¬¬å‡ åœˆï¼Œx,yè·ç¦»è¾¹ç•Œæœ€è¿‘çš„æ•°å°±æ˜¯å¤–é¢çš„å±‚æ•°
        v = (num*layer*4 - layer*layer*4) % 9  # å‰å‡ åœˆæœ‰å¤šå°‘ä¸ªå…ƒç´ 

        start, end = layer, num - layer

        if xPos == start:
            return (v + yPos - start) % 9 + 1

        if yPos == end - 1:
            return (v + end - start - 1 + xPos - start) % 9 + 1

        if xPos == end - 1:
            return (v + (end - start)*2 - 2 + end - yPos - 1) % 9 + 1

        if yPos == start:
            return (v + (end - start)*3 - 3 + end - xPos - 1) % 9 + 1

        return 0
```

ä¸æ˜¯å¾ˆå¥½ç†è§£

```python
def helper(n, k):
    # n å¤§å°çš„çŸ©é˜µ, å¤–é¢ k å±‚çš„æ ¼å­æ•°ç›®
    # 4*(n-1) + 4*(n-3) + ... + 4*(n-2k+1)
    # return 4 * (n-1 + n-2*k+1) * k /2
    return 4 * (n - k) * k % 9


class Solution:
    def orchestraLayout(self, n: int, x: int, y: int) -> int:
        # x,y è·ç¦» 4 ä¸ªè¾¹ç•Œæœ€è¿‘çš„å°±æ˜¯å¤–é¢çš„å±‚æ•°
        k = min(x, y, n - 1 - x, n - 1 - y)
        res = helper(n, k)
        up, down, left, right = k, n - 1 - k, k, n - 1 - k
        # é¡ºæ—¶é’ˆä¾æ¬¡åˆ¤æ–­
        if x == up:
            res += y - left
        elif y == right:
            res += right - left + x - up
        elif x == down:
            res += right - left + down - up + (right - y)
        elif y == left:
            res += right - left + down - up + right - left + (down - x)
        return res % 9 + 1
```

![image-20210406103535102](img/image-20210406103535102.png)

-----------------------

## `6 åˆ†` - [é­”å¡”æ¸¸æˆ](https://leetcode-cn.com/problems/p0NxJO/)

#### [LCP 30. é­”å¡”æ¸¸æˆ](https://leetcode-cn.com/problems/p0NxJO/)

éš¾åº¦ä¸­ç­‰7

å°æ‰£å½“å‰ä½äºé­”å¡”æ¸¸æˆç¬¬ä¸€å±‚ï¼Œå…±æœ‰ `N` ä¸ªæˆ¿é—´ï¼Œç¼–å·ä¸º `0 ~ N-1`ã€‚æ¯ä¸ªæˆ¿é—´çš„è¡¥è¡€é“å…·/æ€ªç‰©å¯¹äºè¡€é‡å½±å“è®°äºæ•°ç»„ `nums`ï¼Œå…¶ä¸­æ­£æ•°è¡¨ç¤ºé“å…·è¡¥è¡€æ•°å€¼ï¼Œå³è¡€é‡å¢åŠ å¯¹åº”æ•°å€¼ï¼›è´Ÿæ•°è¡¨ç¤ºæ€ªç‰©é€ æˆä¼¤å®³å€¼ï¼Œå³è¡€é‡å‡å°‘å¯¹åº”æ•°å€¼ï¼›`0` è¡¨ç¤ºæˆ¿é—´å¯¹è¡€é‡æ— å½±å“ã€‚

**å°æ‰£åˆå§‹è¡€é‡ä¸º 1ï¼Œä¸”æ— ä¸Šé™**ã€‚å‡å®šå°æ‰£åŸè®¡åˆ’æŒ‰æˆ¿é—´ç¼–å·å‡åºè®¿é—®æ‰€æœ‰æˆ¿é—´è¡¥è¡€/æ‰“æ€ªï¼Œ**ä¸ºä¿è¯è¡€é‡å§‹ç»ˆä¸ºæ­£å€¼**ï¼Œå°æ‰£éœ€å¯¹æˆ¿é—´è®¿é—®é¡ºåºè¿›è¡Œè°ƒæ•´ï¼Œ**æ¯æ¬¡ä»…èƒ½å°†ä¸€ä¸ªæ€ªç‰©æˆ¿é—´ï¼ˆè´Ÿæ•°çš„æˆ¿é—´ï¼‰è°ƒæ•´è‡³è®¿é—®é¡ºåºæœ«å°¾**ã€‚è¯·è¿”å›å°æ‰£æœ€å°‘éœ€è¦è°ƒæ•´å‡ æ¬¡ï¼Œæ‰èƒ½é¡ºåˆ©è®¿é—®æ‰€æœ‰æˆ¿é—´ã€‚è‹¥è°ƒæ•´é¡ºåºä¹Ÿæ— æ³•è®¿é—®å®Œå…¨éƒ¨æˆ¿é—´ï¼Œè¯·è¿”å› -1ã€‚

**ç¤ºä¾‹ 1ï¼š**

> è¾“å…¥ï¼š`nums = [100,100,100,-250,-60,-140,-50,-50,100,150]`
>
> è¾“å‡ºï¼š`1`
>
> è§£é‡Šï¼šåˆå§‹è¡€é‡ä¸º 1ã€‚è‡³å°‘éœ€è¦å°† nums[3] è°ƒæ•´è‡³è®¿é—®é¡ºåºæœ«å°¾ä»¥æ»¡è¶³è¦æ±‚ã€‚

**ç¤ºä¾‹ 2ï¼š**

> è¾“å…¥ï¼š`nums = [-200,-300,400,0]`
>
> è¾“å‡ºï¼š`-1`
>
> è§£é‡Šï¼šè°ƒæ•´è®¿é—®é¡ºåºä¹Ÿæ— æ³•å®Œæˆå…¨éƒ¨æˆ¿é—´çš„è®¿é—®ã€‚

**æç¤ºï¼š**

- `1 <= nums.length <= 10^5`
- `-10^5 <= nums[i] <= 10^5`

### æ€è·¯

ä½¿ç”¨ä¼˜å…ˆé˜Ÿåˆ—

> **æœ€å¤§ä¼˜å…ˆé˜Ÿåˆ—ï¼Œæ— è®ºå…¥é˜Ÿé¡ºåºï¼Œå½“å‰æœ€å¤§çš„å…ƒç´ ä¼˜å…ˆå‡ºé˜Ÿã€‚**
>
> **æœ€å°ä¼˜å…ˆé˜Ÿåˆ—ï¼Œæ— è®ºå…¥é˜Ÿé¡ºåºï¼Œå½“å‰æœ€å°çš„å…ƒç´ ä¼˜å…ˆå‡ºé˜Ÿã€‚**

```python
class Solution:
    def magicTower(self, nums: List[int]) -> int:
        if sum(nums) < 0:
            return -1
        # å¼€å§‹æ¨¡æ‹Ÿ
        hp = 1
        pq = []
        last = 0
        for i in range(len(nums)):
            if nums[i] < 0:	# å¦‚æœå½“å‰å…ƒç´ å°äº0ï¼Œå…¥é˜Ÿ
                heapq.heappush(pq, nums[i])	
                if hp + nums[i] <= 0:	# å¦‚æœå½“å‰å…ƒç´ ä¸hpç›¸åŠ å°äºç­‰äº0ï¼ŒlaståŠ 1ï¼Œå‡ºé˜Ÿè¿”è¿˜ç”Ÿå‘½å€¼
                    last += 1
                    hp -= heapq.heappop(pq)  # å‡ºé˜Ÿå¹¶è¿”è¿˜ç”Ÿå‘½å€¼
            hp += nums[i]	# ç æ€ªæˆ–è€…åƒè¡€
        return last
```

![image-20210406101346655](img/image-20210406101346655.png)

## `8 åˆ†` - [å˜æ¢çš„è¿·å®«](https://leetcode-cn.com/problems/Db3wC1/)

#### [LCP 31. å˜æ¢çš„è¿·å®«](https://leetcode-cn.com/problems/Db3wC1/)

éš¾åº¦å›°éš¾8

æŸè§£å¯†æ¸¸æˆä¸­ï¼Œæœ‰ä¸€ä¸ª N*M çš„è¿·å®«ï¼Œè¿·å®«åœ°å½¢ä¼šéšæ—¶é—´å˜åŒ–è€Œæ”¹å˜ï¼Œè¿·å®«å‡ºå£ä¸€ç›´ä½äº `(n-1,m-1)` ä½ç½®ã€‚è¿·å®«å˜åŒ–è§„å¾‹è®°å½•äº `maze` ä¸­ï¼Œ`maze[i]` è¡¨ç¤º `i` æ—¶åˆ»è¿·å®«çš„åœ°å½¢çŠ¶æ€ï¼Œ`"."` è¡¨ç¤ºå¯é€šè¡Œç©ºåœ°ï¼Œ`"#"` è¡¨ç¤ºé™·é˜±ã€‚

åœ°å½¢å›¾åˆå§‹çŠ¶æ€è®°ä½œ `maze[0]`ï¼Œæ­¤æ—¶å°åŠ›ä½äºèµ·ç‚¹ `(0,0)`ã€‚æ­¤åæ¯ä¸€æ—¶åˆ»å¯é€‰æ‹©å¾€ä¸Šã€ä¸‹ã€å·¦ã€å³å…¶ä¸€æ–¹å‘èµ°ä¸€æ­¥ï¼Œæˆ–è€…åœç•™åœ¨åŸåœ°ã€‚

å°åŠ›èƒŒåŒ…æœ‰ä»¥ä¸‹ä¸¤ä¸ªé­”æ³•å·è½´ï¼ˆå·è½´ä½¿ç”¨ä¸€æ¬¡åæ¶ˆå¤±ï¼‰ï¼š

- ä¸´æ—¶æ¶ˆé™¤æœ¯ï¼šå°†æŒ‡å®šä½ç½®åœ¨ä¸‹ä¸€ä¸ªæ—¶åˆ»å˜ä¸ºç©ºåœ°ï¼›
- æ°¸ä¹…æ¶ˆé™¤æœ¯ï¼šå°†æŒ‡å®šä½ç½®æ°¸ä¹…å˜ä¸ºç©ºåœ°ã€‚

è¯·åˆ¤æ–­åœ¨è¿·å®«å˜åŒ–ç»“æŸå‰ï¼ˆå«æœ€åæ—¶åˆ»ï¼‰ï¼Œå°åŠ›èƒ½å¦åœ¨ä¸ç»è¿‡ä»»æ„é™·é˜±çš„æƒ…å†µä¸‹åˆ°è¾¾è¿·å®«å‡ºå£å‘¢ï¼Ÿ

**æ³¨æ„ï¼š è¾“å…¥æ•°æ®ä¿è¯èµ·ç‚¹å’Œç»ˆç‚¹åœ¨æ‰€æœ‰æ—¶åˆ»å‡ä¸ºç©ºåœ°ã€‚**

**ç¤ºä¾‹ 1ï¼š**

> è¾“å…¥ï¼š`maze = [[".#.","#.."],["...",".#."],[".##",".#."],["..#",".#."]]`
>
> è¾“å‡ºï¼š`true`
>
> è§£é‡Šï¼š
> ![maze.gif](https://pic.leetcode-cn.com/1615892239-SCIjyf-maze.gif)

**ç¤ºä¾‹ 2ï¼š**

> è¾“å…¥ï¼š`maze = [[".#.","..."],["...","..."]]`
>
> è¾“å‡ºï¼š`false`
>
> è§£é‡Šï¼šç”±äºæ—¶é—´ä¸å¤Ÿï¼Œå°åŠ›æ— æ³•åˆ°è¾¾ç»ˆç‚¹é€ƒå‡ºè¿·å®«ã€‚

**ç¤ºä¾‹ 3ï¼š**

> è¾“å…¥ï¼š`maze = [["...","...","..."],[".##","###","##."],[".##","###","##."],[".##","###","##."],[".##","###","##."],[".##","###","##."],[".##","###","##."]]`
>
> è¾“å‡ºï¼š`false`
>
> è§£é‡Šï¼šç”±äºé“è·¯ä¸é€šï¼Œå°åŠ›æ— æ³•åˆ°è¾¾ç»ˆç‚¹é€ƒå‡ºè¿·å®«ã€‚

**æç¤ºï¼š**

- `1 <= maze.length <= 100`
- `1 <= maze[i].length, maze[i][j].length <= 50`
- `maze[i][j]` ä»…åŒ…å« `"."`ã€`"#"`

---------------------------

## `10 åˆ†` - [æ‰¹é‡å¤„ç†ä»»åŠ¡](https://leetcode-cn.com/problems/t3fKg1/)

#### [LCP 32. æ‰¹é‡å¤„ç†ä»»åŠ¡](https://leetcode-cn.com/problems/t3fKg1/)

éš¾åº¦å›°éš¾7

æŸå®éªŒå®¤è®¡ç®—æœºå¾…å¤„ç†ä»»åŠ¡ä»¥ `[start,end,period]` æ ¼å¼è®°äºäºŒç»´æ•°ç»„ `tasks`ï¼Œè¡¨ç¤ºå®Œæˆè¯¥ä»»åŠ¡çš„æ—¶é—´èŒƒå›´ä¸ºèµ·å§‹æ—¶é—´ `start` è‡³ç»“æŸæ—¶é—´ `end` ä¹‹é—´ï¼Œéœ€è¦è®¡ç®—æœºæŠ•å…¥ `period` çš„æ—¶é•¿ï¼Œæ³¨æ„ï¼š

1. `period` å¯ä¸ºä¸è¿ç»­æ—¶é—´
2. é¦–å°¾æ—¶é—´å‡åŒ…å«åœ¨å†…

å¤„äºå¼€æœºçŠ¶æ€çš„è®¡ç®—æœºå¯åŒæ—¶å¤„ç†ä»»æ„å¤šä¸ªä»»åŠ¡ï¼Œè¯·è¿”å›ç”µè„‘æœ€å°‘å¼€æœºå¤šä¹…ï¼Œå¯å¤„ç†å®Œæ‰€æœ‰ä»»åŠ¡ã€‚

**ç¤ºä¾‹ 1ï¼š**

> è¾“å…¥ï¼š`tasks = [[1,3,2],[2,5,3],[5,6,2]]`
>
> è¾“å‡ºï¼š`4`
>
> è§£é‡Šï¼š
> tasks[0] é€‰æ‹©æ—¶é—´ç‚¹ 2ã€3ï¼›
> tasks[1] é€‰æ‹©æ—¶é—´ç‚¹ 2ã€3ã€5ï¼›
> tasks[2] é€‰æ‹©æ—¶é—´ç‚¹ 5ã€6ï¼›
> å› æ­¤è®¡ç®—æœºä»…éœ€åœ¨æ—¶é—´ç‚¹ 2ã€3ã€5ã€6 å››ä¸ªæ—¶åˆ»ä¿æŒå¼€æœºå³å¯å®Œæˆä»»åŠ¡ã€‚

**ç¤ºä¾‹ 2ï¼š**

> è¾“å…¥ï¼š`tasks = [[2,3,1],[5,5,1],[5,6,2]]`
>
> è¾“å‡ºï¼š`3`
>
> è§£é‡Šï¼š
> tasks[0] é€‰æ‹©æ—¶é—´ç‚¹ 2 æˆ– 3ï¼›
> tasks[1] é€‰æ‹©æ—¶é—´ç‚¹ 5ï¼›
> tasks[2] é€‰æ‹©æ—¶é—´ç‚¹ 5ã€6ï¼›
> å› æ­¤è®¡ç®—æœºä»…éœ€åœ¨æ—¶é—´ç‚¹ 2ã€5ã€6 æˆ– 3ã€5ã€6 ä¸‰ä¸ªæ—¶åˆ»ä¿æŒå¼€æœºå³å¯å®Œæˆä»»åŠ¡ã€‚

**æç¤ºï¼š**

- `2 <= tasks.length <= 10^5`
- `tasks[i].length == 3`
- `0 <= tasks[i][0] <= tasks[i][1] <= 10^9`
- `1 <= tasks[i][2] <= tasks[i][1]-tasks[i][0] + 1`